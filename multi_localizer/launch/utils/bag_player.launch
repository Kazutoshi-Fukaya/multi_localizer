<?xml version="1.0"?>
<launch>
    <arg name="roomba"    default="roomba1" />
    <arg name="date"      default="20220224" />
    <!-- <arg name="date"      default="20220630" /> -->
    <arg name="wait_time" default="0.0" />
    <arg name="file_path" default="$(env HOME)/bagfiles/experimental_file_$(arg date)" />

    <!-- rosbag -->
    <node pkg="rosbag" type="play" name="$(arg roomba)_play" args=" -d $(arg wait_time) $(arg file_path)/$(arg roomba).bag" />

    <!-- unzip -->
    <arg name="unzip_theta_s"   default="true" />
    <arg name="unzip_rgb"       default="true" />
    <arg name="unzip_detection" default="true" />
    <include file="$(find multi_localizer)/launch/utils/image_unzipper.launch" >
        <arg name="roomba"          value="$(arg roomba)"/>
        <arg name="unzip_theta_s"   value="$(arg unzip_theta_s)" />
        <arg name="unzip_rgb"       value="$(arg unzip_rgb)" />
        <arg name="unzip_detection" value="$(arg unzip_detection)" />
    </include>

    <!-- equirectangular_convertor -->
    <include file="$(find multi_localizer)/launch/utils/equirectangular_convertor.launch" >
        <arg name="roomba" value="$(arg roomba)" />
    </include>

</launch>
